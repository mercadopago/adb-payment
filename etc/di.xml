<?xml version="1.0"?>
<!--
/**
 * Copyright Â© MercadoPago. All rights reserved.
 *
 * @author      Mercado Pago
 * @license     See LICENSE for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <!-- Plugin - Vault not duplicated -->
    <type name="Magento\Vault\Api\PaymentTokenManagementInterface">
        <plugin name="mercadopago_vault"
                type="MercadoPago\AdbPayment\Plugin\PaymentToken"
                sortOrder="1"/>
    </type>
    <type name="Magento\Vault\Model\Method\Vault">
        <plugin name="disable_initialize"
                type="MercadoPago\AdbPayment\Plugin\VaultIsInitializeNeeded"
                sortOrder="1"/>
    </type>

    <!-- Console -->
    <type name="Magento\Framework\Console\CommandList">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="fetchMerchantInfo" xsi:type="object">MercadoPago\AdbPayment\Console\Command\Adminstrative\FetchMerchantInfo</item>
                <item name="setPaymentExpired" xsi:type="object">MercadoPago\AdbPayment\Console\Command\Adminstrative\PaymentExpirations</item>
                <item name="fetchOrderStatus" xsi:type="object">MercadoPago\AdbPayment\Console\Command\Notification\FetchOrderStatus</item>
                <item name="checkoutProAddChild" xsi:type="object">MercadoPago\AdbPayment\Console\Command\Notification\CheckoutProAddChild</item>
            </argument>
        </arguments>
    </type>

    <!-- API - Create Vault -->
    <preference for="MercadoPago\AdbPayment\Api\CreateVaultManagementInterface" type="MercadoPago\AdbPayment\Model\Api\CreateVaultManagement" />

    <!-- API - Payment Information -->
    <preference for="MercadoPago\AdbPayment\Api\PayInfoManagementInterface" type="MercadoPago\AdbPayment\Model\Api\PayInfoManagement" />

    <!-- API - Finance Cost -->
    <preference for="MercadoPago\AdbPayment\Api\GuestFinanceCostManagementInterface" type="MercadoPago\AdbPayment\Model\Api\GuestFinanceCostManagement" />
    <preference for="MercadoPago\AdbPayment\Api\FinanceCostManagementInterface" type="MercadoPago\AdbPayment\Model\Api\FinanceCostManagement" />
    <preference for="MercadoPago\AdbPayment\Api\Data\FinanceCostInterface" type="MercadoPago\AdbPayment\Model\Api\Data\FinanceCost" />
    <preference for="MercadoPago\AdbPayment\Api\Data\RulesForFinanceCostInterface" type="MercadoPago\AdbPayment\Model\Api\Data\RulesForFinanceCost" />

    <type name="Magento\Config\Model\Config\TypePool">
        <arguments>
            <argument name="sensitive" xsi:type="array">
                <item name="payment/mercadopago_adbpayment/client_id_production" xsi:type="string">0</item>
                <item name="payment/mercadopago_adbpayment/client_secret_production" xsi:type="string">1</item>
                <item name="payment/mercadopago_adbpayment/client_id_sandbox" xsi:type="string">0</item>
                <item name="payment/mercadopago_adbpayment/client_secret_sandbox" xsi:type="string">1</item>
            </argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\BackUrlsDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

     <type name="MercadoPago\AdbPayment\Gateway\Request\CheckoutProNotificationUrlDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

    <!-- All - Adapter Interface -->
    <preference for="MercadoPago\AdbPayment\Gateway\Data\Order\OrderAdapterInterface" type="MercadoPago\AdbPayment\Gateway\Data\Order\OrderAdapter"/>
    <preference for="MercadoPago\AdbPayment\Gateway\Data\Order\AddressAdapterInterface" type="MercadoPago\AdbPayment\Gateway\Data\Order\AddressAdapter"/>

    <!-- Payment Method Facade Configuration -->
    <virtualType name="MercadoPagoBaseFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderBase::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Card</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\Card</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Facade Configuration -->
    <virtualType name="MercadoPagoCcFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderCc::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Card</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\Card</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoCcValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoCcValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Facade Configuration -->
    <virtualType name="MercadoPagoTwoCcFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderTwoCc::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Card</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\TwoCc</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoTwoCcValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoTwoCcValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoTwoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- CcVault - Facade Configuration -->
    <virtualType name="MercadoPagoCcVaultFacade" type="Magento\Vault\Model\Method\Vault">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderCc::VAULT_CODE</argument>
            <argument name="config" xsi:type="object">MercadoPagoVaultPaymentConfig</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoVaultPaymentValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoCcValidatorPool</argument>
            <argument name="vaultProvider" xsi:type="object">MercadoPagoCcFacade</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Facade Configuration -->
    <virtualType name="MercadoPagoCheckoutProFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderCheckoutPro::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\CheckoutPro</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\CheckoutPro</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoCheckoutProValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoCheckoutProValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Facade Configuration -->
    <virtualType name="MercadoPagoPaymentMethodsOffFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderPaymentMethodsOff::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\PaymentMethodsOff</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\PaymentMethodsOff</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoPaymentMethodsOffValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoPaymentMethodsOffValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Facade Configuration -->
    <virtualType name="MercadoPagoPixFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderPix::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Pix</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\Pix</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoPixValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoPixValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Pse - Facade Configuration -->
    <virtualType name="MercadoPagoPseFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderPse::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Pse</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\Pse</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoPseValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoPseValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Webpay - Facade Configuration -->
    <virtualType name="MercadoPagoWebpayFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\AdbPayment\Model\Ui\ConfigProviderWebpay::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Form\Webpay</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\AdbPayment\Block\Sales\Info\Webpay</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoWebpayValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MercadoPagoWebpayValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- All - Executors -->
    <type name="Magento\Payment\Gateway\Command\CommandManagerPool">
        <arguments>
            <argument name="executors" xsi:type="array">
                <item name="mercadopago_adbpayment_cc" xsi:type="string">MercadoPagoCcCommandManager</item>
                <item name="mercadopago_adbpayment_twocc" xsi:type="string">MercadoPagoTwoCcCommandManager</item>
                <item name="mercadopago_adbpayment_cc_vault" xsi:type="string">MercadoPagoCcCommandManager</item>
                <item name="mercadopago_adbpayment_checkout_pro" xsi:type="string">MercadoPagoCheckoutProCommandManager</item>
                <item name="mercadopago_adbpayment_payment_methods_off" xsi:type="string">MercadoPagoPaymentMethodsOffCommandManager</item>
                <item name="mercadopago_adbpayment_pix" xsi:type="string">MercadoPagoPixCommandManager</item>
                <item name="mercadopago_adbpayment_pse" xsi:type="string">MercadoPagoPseCommandManager</item>
                <item name="mercadopago_adbpayment_webpay" xsi:type="string">MercadoPagoWebpayCommandManager</item>
            </argument>
        </arguments>
    </type>

    <!-- Base - Validator -->
    <type name="Magento\Payment\Model\Checks\Composite">
        <plugin name="mp_site_id" type="MercadoPago\AdbPayment\Model\Checks\SpecificationPlugin"/>
    </type>

    <!-- PaymentMethodsOff - Validator -->
    <virtualType name="MercadoPagoPaymentMethodsOffCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigPaymentMethodsOff</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPaymentMethodsOffValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoPaymentMethodsOffCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Validator -->
    <virtualType name="MercadoPagoCcCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigCc</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCcValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoCcCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Validator -->
    <virtualType name="MercadoPagoTwoCcCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigTwoCc</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoTwoCcValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoTwoCcCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Validator -->
    <virtualType name="MercadoPagoCheckoutProCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigCheckoutPro</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoCheckoutProCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Validator -->
    <virtualType name="MercadoPagoPixCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigPix</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPixValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoPixCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pse - Validator -->
    <virtualType name="MercadoPagoPseCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigPse</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPseValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoPseCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Webpay - Validator -->
    <virtualType name="MercadoPagoWebpayCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\AdbPayment\Gateway\Config\ConfigWebpay</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoWebpayValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MercadoPagoWebpayCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- All - Configuration reader -->
    <virtualType name="MercadoPagoBaseConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderBase::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCcConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderCc::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoTwoCcConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderTwoCc::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderCc::VAULT_CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderCheckoutPro::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPaymentMethodsOffConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderPaymentMethodsOff::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPixConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderPix::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPseConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderPse::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoWebpayConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\AdbPayment\Model\Ui\ConfigProviderWebpay::CODE</argument>
        </arguments>
    </virtualType>

    <!-- All - Block Info -->
    <type name="MercadoPago\AdbPayment\Block\Sales\Info\Card">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoCcConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\CheckoutPro">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoCheckoutProConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\PaymentMethodsOff">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoPaymentMethodsOffConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\Pix">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoPixConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\Pse">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoPseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\Webpay">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoWebpayConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Block\Sales\Info\TwoCc">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoTwoCcConfig</argument>
        </arguments>
    </type>

    <!-- CheckoutPro - Commands infrastructure -->
    <virtualType name="MercadoPagoCheckoutProCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoCheckoutProOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoCheckoutProFetchCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoCheckoutProCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoCheckoutProVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoCheckoutProCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Fetch Commands  -->
    <virtualType name="MercadoPagoCheckoutProFetchCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Commands -->
    <virtualType name="MercadoPagoCheckoutProOrderCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCheckoutProOrderRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoCheckoutProOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCheckoutProClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Request -->
    <virtualType name="MercadoPagoCheckoutProOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\CheckoutProNotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="binaryMode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BinaryModeDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="backUrls" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BackUrlsDataRequest</item>
                <item name="excluded" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExcludedCheckoutProDataRequest</item>
                <item name="installments" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\InstallmentsCheckoutProDataRequest</item>
                <item name="tracks" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TracksCheckoutProDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="itemsAndDetailsCost" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ItemsAndDatailsCostDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerCheckoutPro" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerCheckoutProDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="shippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCheckoutPro" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentCheckoutProDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\CheckoutProPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Payment Response handlers -->
    <virtualType name="MercadoPagoCheckoutProOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCheckoutPro" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCheckoutProHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Commands infrastructure -->
    <virtualType name="MercadoPagoPaymentMethodsOffCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoPaymentMethodsOffOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoPaymentMethodsOffFetchCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoPaymentMethodsOffCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoPaymentMethodsOffVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoPaymentMethodsOffCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Order Commands -->
    <virtualType name="MercadoPagoPaymentMethodsOffOrderCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoPaymentMethodsOffOrderRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoPaymentMethodsOffOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Order Request -->
    <virtualType name="MercadoPagoPaymentMethodsOffOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataPaymentMethodsOff" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentMethodsOffDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PaymentMethodsOffDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Order Payment Response handlers -->
    <virtualType name="MercadoPagoPaymentMethodsOffOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdPaymentMethodsOff" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdPaymentMethodsOffHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Commands infrastructure -->
    <virtualType name="MercadoPagoBankTransferCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoBankTransferOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoBankTransferFetchCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoBankTransferCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoBankTransferVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoBankTransferCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Commands -->
    <virtualType name="MercadoPagoBankTransferOrderCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBankTransferOrderRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoBankTransferOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Request -->
    <virtualType name="MercadoPagoBankTransferOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoIpAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoIpDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataBankTransfer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentBankTransfDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BankTransferPaymentDataRequest</item>
                <item name="transactionDetails" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BankTransDetailsDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Payment Response handlers -->
    <virtualType name="MercadoPagoBankTransferOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdBankTransfer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdBankTransferHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Commands infrastructure -->
    <virtualType name="MercadoPagoPixCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoPixOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoPixCancelPaymentCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoPixFetchCommand</item>
                <item name="void" xsi:type="string">MercadoPagoPixVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoPixCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Commands -->
    <virtualType name="MercadoPagoPixOrderCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoPixOrderRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoPixOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Request -->
    <virtualType name="MercadoPagoPixOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataPix" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentPixDataRequest</item>
                <item name="pointOfInteraction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PointOfInteractionPaymentDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PixPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Payment Response handlers -->
    <virtualType name="MercadoPagoPixOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdPix" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdPixHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Commands infrastructure -->
    <virtualType name="MercadoPagoCcCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoInitializeCcCommand</item>
                <item name="authorize" xsi:type="string">MercadoPagoAuthorizeCcCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoCaptureCcCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="accept_payment" xsi:type="string">MercadoPagoAcceptPaymentCommand</item>
                <item name="deny_payment" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="vault_initialize" xsi:type="string">MercadoPagoCcVaultInitializeCommand</item>
                <item name="vault_authorize" xsi:type="string">MercadoPagoCcVaultAuthorizeCommand</item>
                <item name="vault_capture" xsi:type="string">MercadoPagoCcVaultCaptureCommand</item>
                <item name="vault_sale" xsi:type="string">MercadoPagoCcVaultCaptureCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoCcFetchCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Commands Initialize -->
    <virtualType name="MercadoPagoInitializeCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoInitializeResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Vault - Authorize Command-->
    <virtualType name="MercadoPagoCcVaultInitializeCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcVaultRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoInitializeResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Initialize Payment Response handlers -->
    <virtualType name="MercadoPagoInitializeResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionInitializeHandler</item>
                <item name="vaultBuilder" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\VaultDetailsHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Fetch Commands  -->
    <virtualType name="MercadoPagoCcFetchCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Authorization Order Request -->
    <virtualType name="MercadoPagoCcAuthorizationRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentCcDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\CcPaymentDataRequest</item>
                <item name="captureAmount" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\CaptureAmountRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Commands infrastructure -->
    <virtualType name="MercadoPagoTwoCcCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MercadoPagoInitializeTwoCcCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoCaptureTwoCcCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommandTwoCc</item>
                <item name="cancel" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="accept_payment" xsi:type="string">MercadoPagoAcceptPaymentCommand</item>
                <item name="deny_payment" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="vault_initialize" xsi:type="string">MercadoPagoCcVaultInitializeCommand</item>
                <item name="vault_authorize" xsi:type="string">MercadoPagoCcVaultAuthorizeCommand</item>
                <item name="vault_capture" xsi:type="string">MercadoPagoCcVaultCaptureCommand</item>
                <item name="vault_sale" xsi:type="string">MercadoPagoCcVaultCaptureCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MercadoPagoCcFetchCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Commands Initialize -->
    <virtualType name="MercadoPagoInitializeTwoCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoTwoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoTwoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoTwoCcInitializeResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Initialize Payment Response handlers -->
    <virtualType name="MercadoPagoTwoCcInitializeResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionInitializeHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Authorization Order Request -->
    <virtualType name="MercadoPagoTwoCcAuthorizationRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentCcDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TwoCcPaymentDataRequest</item>
                <item name="trasanctionInfo" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionInfoDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Commands Authorize -->
    <virtualType name="MercadoPagoAuthorizeTwoCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoTwoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoTwoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoTwoCcAuthorizationResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Authorization Payment Response handlers -->
    <virtualType name="MercadoPagoTwoCcAuthorizationResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdTwoCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TwoCcTransactionAuthorizationHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Two Cc - Capture Commands -->
    <virtualType name="MercadoPagoCaptureTwoCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoTwoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoTwoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoTwoCcCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- TwoCc - Capture Payment Response handlers -->
    <virtualType name="MercadoPagoTwoCcCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdTwoCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TwoCcTransactionAuthorizationHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Commands Authorize -->
    <virtualType name="MercadoPagoAuthorizeCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoAuthorizationResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Authorization Payment Response handlers -->
    <virtualType name="MercadoPagoAuthorizationResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionAuthorizationHandler</item>
                <item name="vaultBuilder" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\VaultDetailsHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Capture Commands -->
    <virtualType name="MercadoPagoCaptureCcCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CapturePaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Capture Payment Response handlers -->
    <virtualType name="MercadoPagoCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionCaptureHandler</item>
                <item name="vaultBuilder" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\VaultDetailsHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Capture Command-->
    <virtualType name="MercadoPagoCcVaultCaptureCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcVaultRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoCcVaultCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Vault - Authorize Command-->
    <virtualType name="MercadoPagoCcVaultAuthorizeCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCcVaultRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoCcVaultAuthorizeResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Vault - Order Request -->
    <virtualType name="MercadoPagoCcVaultRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\MetadataPaymentCcDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\CcVaultPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Authorization Response handlers -->
    <virtualType name="MercadoPagoCcVaultAuthorizeResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionAuthorizationHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Capture Response handlers -->
    <virtualType name="MercadoPagoCcVaultCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CcTransactionCaptureHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PaymentMethodsOff - Fetch Commands  -->
    <virtualType name="MercadoPagoPaymentMethodsOffFetchCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Fetch Commands  -->
    <virtualType name="MercadoPagoBankTransferFetchCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Fetch Order Request -->
    <virtualType name="MercadoPagoBaseFetchRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Fetch Payment Response handlers -->
    <virtualType name="MercadoPagoFetchResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="fetch" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\FetchPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cancel Commands -->
    <virtualType name="MercadoPagoPaymentMethodsOffCancelPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoBankTransferCancelPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProCancelPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Void Commands -->
    <virtualType name="MercadoPagoPaymentMethodsOffVoidPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoBankTransferVoidPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProVoidPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Void Order Request -->
    <virtualType name="MercadoPagoBaseVoidRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Void Payment Response handlers -->
    <virtualType name="MercadoPagoVoidResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="void" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\VoidPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Capture Commands -->
    <virtualType name="MercadoPagoPaymentMethodsOffCaptureCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoBaseCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoBankTransferCaptureCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoBaseCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProCaptureCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoBaseCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Authorization Order Request -->
    <virtualType name="MercadoPagoCaptureRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\NotificationIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Capture Payment Response handlers -->
    <virtualType name="MercadoPagoBaseCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="capture" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\CapturePaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PIX - Fetch Commands  -->
    <virtualType name="MercadoPagoPixFetchCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Cancel Commands -->
    <virtualType name="MercadoPagoPixCancelPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Void Commands -->
    <virtualType name="MercadoPagoPixVoidPaymentCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Capture Commands -->
    <virtualType name="MercadoPagoPixCaptureCommand" type="MercadoPago\AdbPayment\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoBaseCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Command -->
    <virtualType name="MercadoPagoRefundCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoRefundRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\RefundClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoRefundResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Transaction Info Request -->
    <virtualType name="MercadoPagoRefundRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\RefundRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Info handlers -->
    <virtualType name="MercadoPagoRefundResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="refund" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\RefundHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Refund TwoCc - Command -->
    <virtualType name="MercadoPagoRefundCommandTwoCc" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoRefundRequestTwoCc</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\RefundClientTwoCc</argument>
            <argument name="handler" xsi:type="object">MercadoPagoRefundResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

     <!-- Refund TwoCc - Transaction Info Request -->
    <virtualType name="MercadoPagoRefundRequestTwoCc" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\RefundRequestTwoCc</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment Command -->
    <virtualType name="MercadoPagoAcceptPaymentCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoAcceptPaymentRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\AcceptPaymentClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoAccpetPaymentResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment Request -->
    <virtualType name="MercadoPagoAcceptPaymentRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment handlers -->
    <virtualType name="MercadoPagoAccpetPaymentResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="accept" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\AcceptPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment Command -->
    <virtualType name="MercadoPagoDenyPaymentCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoDenyPaymentRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\AdbPayment\Gateway\Http\Client\DenyPaymentClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoDenyPaymentResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment Request -->
    <virtualType name="MercadoPagoDenyPaymentRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\AdbPayment\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment handlers -->
    <virtualType name="MercadoPagoDenyPaymentResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="deny" xsi:type="string">MercadoPago\AdbPayment\Gateway\Response\DenyPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Error Mapping -->
    <virtualType name="MercadoPagoErrorMappingConfigReader" type="Magento\Payment\Gateway\ErrorMapper\VirtualConfigReader">
        <arguments>
            <argument name="fileName" xsi:type="string">mercadopago_error_mapping.xml</argument>
        </arguments>
    </virtualType>
    <virtualType name="MercadoPagoErrorMappingData" type="Magento\Payment\Gateway\ErrorMapper\MappingData">
        <arguments>
            <argument name="reader" xsi:type="object">MercadoPagoErrorMappingConfigReader</argument>
            <argument name="cacheId" xsi:type="string">mercadopago_error_mapper</argument>
        </arguments>
    </virtualType>
    <virtualType name="MercadoPagoVirtualErrorMessageMapper" type="Magento\Payment\Gateway\ErrorMapper\ErrorMessageMapper">
        <arguments>
            <argument name="messageMapping" xsi:type="object">MercadoPagoErrorMappingData</argument>
        </arguments>
    </virtualType>

    <!-- Base - Validator -->
    <virtualType name="MercadoPagoTransactionValidator" type="Magento\Payment\Gateway\Validator\ValidatorComposite">
        <arguments>
            <argument name="chainBreakingValidators" xsi:type="array">
                <item name="general" xsi:type="boolean">true</item>
            </argument>
            <argument name="validators" xsi:type="array">
                <item name="general" xsi:type="string">MercadoPago\AdbPayment\Gateway\Validator\GeneralResponseValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- All - Implements Config Value Handler -->
    <virtualType name="MercadoPagoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoBaseConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoBaseConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCcValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoCcConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCcConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoCcConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoTwoCcValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoTwoCcConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoTwoCcConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoTwoCcConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCcCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoTwoCcCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoTwoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentValueHandlerPool" type="VaultPaymentValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoVaultPaymentValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentValueHandler" type="VaultPaymentDefaultValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoVaultPaymentConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoCheckoutProCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoCheckoutProConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoCheckoutProConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoCheckoutProConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPaymentMethodsOffCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPaymentMethodsOffCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPaymentMethodsOffValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoPaymentMethodsOffConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPaymentMethodsOffConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoPaymentMethodsOffConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPixCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoPixCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPixValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoPixConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPixConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoPixConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPseCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPseValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoPseConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoPseConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoPseConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoWebpayCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MercadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoWebpayValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoWebpayConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoWebpayConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoWebpayConfig</argument>
        </arguments>
    </virtualType>

    <!-- All - Implements Config -->
    <virtualType name="MercadoPagoLogger" type="Magento\Payment\Model\Method\Logger">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </virtualType>

    <type name="MercadoPago\AdbPayment\Gateway\Request\RefundRequest">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\RefundRequestTwoCc">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\MercadoPagoDenyPaymentRequest">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\NumberTokenManagement">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Api\CreateVaultManagement">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Api\FinanceCostManagement">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\AuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\CreateOrderAuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\AuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\FetchPaymentClient">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Request\CancelPaymentClient">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <!-- All - Implements Logger -->
    <type name="MercadoPago\AdbPayment\Gateway\Validator\GeneralResponseValidator">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\NumberTokenManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Api\CreateVaultManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Api\FinanceCostManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCustomClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\CreateOrderPaymentCheckoutProClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\AcceptPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\DenyPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\RefundClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\RefundClientTwoCc">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\FetchPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Gateway\Http\Client\CancelPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Controller\MpIndex">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Controller\Notification\ChekoutCustom">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Controller\Notification\CheckoutPro">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\FetchMerchantInfo">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\FetchPixOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\FetchPaymentMethodsOffOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\CancelCheckoutPro">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\FetchPseOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Cron\FetchWebpayOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Console\Command\Adminstrative\FetchMerchant">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Console\Command\Adminstrative\PaymentExpiration">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\AdbPayment\Model\Console\Command\Notification\FetchStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>
</config>
